<!DOCTYPE html>
<html>

<head>
    <title>Nav Proj</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.2/font/bootstrap-icons.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="container-fluid">
    <div class="row ">
        <div class="col-md-8">
            <div class="btn-group w-100">
                <button id="eleBtn" class="btn btn-success w-100">Electronics</button>
                <button id="fooBtn" class="btn btn-success w-100">Footwear</button>
                <button id="fasBtn" class="btn btn-success w-100">Fashion</button>
                <button id="lenBtn" class="btn btn-success w-100">Lenses</button>
                <button id="medBtn" class="btn btn-success w-100">Nutrition</button>
            </div>
        </div>
        <div class="col-md-2"></div>
        <div class="col-md-2">
            <div class="mt-2">
                <button id="loadCartBtn" class="btn btn-warning w-100" data-bs-target="#cart" data-bs-toggle="modal">
                    <span class="bi bi-cart2"></span>
                    [<label id="lblCart"></label>]
                    Your Cart Items
                </button>
                <div class="modal fade" id="cart">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h3>Your Cart Items</h3>
                                <button class="btn-close" data-bs-dismiss="modal"></button>
                            </div>
                            <div class="modal-body">
                                <table class="table table-hover">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Price</th>
                                            <th>Preview</th>
                                            <th>Delete</th>
                                        </tr>
                                    </thead>
                                    <tbody></tbody>
                                </table>
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-primary" data-bs-dismiss="modal">OK</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="second-group">
        <div class="row w-100">
            <div class="col-md-4">
                <div class="mt-2">
                    <div class="card">
                        <div class="card-header text-center">
                            <h2 id="lblName1">Samsung Mobile</h2>
                        </div>
                        <div class="card-body text-center">
                            <img id="imgProduct1" width="100" src='mobile.jpg' height="100">
                            <p id="lblPrice1">13000</p>
                        </div>
                        <div class="card-footer">
                            <button id="addToCartBtn1" class="btn btn-danger w-100">
                                <span class="bi bi-cart4"> Add to Cart</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="mt-2">
                    <div class="card">
                        <div class="card-header text-center">
                            <h2 id="lblName2">Boat NeckBand</h2>
                        </div>
                        <div class="card-body text-center">
                            <img id="imgProduct2" width="100" src="neckband.jpg" height="100">
                            <p id="lblPrice2">990</p>
                        </div>
                        <div class="card-footer">
                            <button id="addToCartBtn2" class="btn btn-danger w-100">
                                <span class="bi bi-cart4"> Add to Cart</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            var cartItems = [];

            function getCartItemsCount() {
                var uniqueProducts = new Set(cartItems.filter((_, index) => index % 3 === 0));
                $("#lblCart").html(uniqueProducts.size);
            }

            function addToCart(name, price, img) {
                var itemIndex = cartItems.indexOf(name);
                if (itemIndex === -1) {
                    cartItems.push(name);
                    cartItems.push(price);
                    cartItems.push(img);
                    getCartItemsCount();
                }
            }

            $("#eleBtn").click(function () {
                $("#lblName1").html("Samsung Mobile");
                $("#lblPrice1").html(13000.00);
                $("#imgProduct1").attr("src", "mobile.jpg");

                $("#lblName2").html("Boat NeckBand");
                $("#lblPrice2").html(990.00);
                $("#imgProduct2").attr("src", "neckband.jpg");
            });

            $("#fooBtn").click(function () {
                $("#lblName1").html("Nike Casuals");
                $("#lblPrice1").html(6700.00);
                $("#imgProduct1").attr("src", "shoe1.jpg");

                $("#lblName2").html("Lee Cooper Boot");
                $("#lblPrice2").html(1899.00);
                $("#imgProduct2").attr("src", "shoe2.avif");
            });

            $("#fasBtn").click(function () {
                $("#lblName1").html("Backpack");
                $("#lblPrice1").html(1000.00);
                $("#imgProduct1").attr("src", "bagpack.jpg");

                $("#lblName2").html("Mens Cotton Jacket");
                $("#lblPrice2").html(599.00);
                $("#imgProduct2").attr("src", "cottonJacket.jpg");
            });

            $("#lenBtn").click(function () {
                $("#lblName1").html("Eyewear Styles");
                $("#lblPrice1").html(3450.00);
                $("#imgProduct1").attr("src", "lens1.jpg");

                $("#lblName2").html("ComputerLenses");
                $("#lblPrice2").html(199.00);
                $("#imgProduct2").attr("src", "lens2.jpg");
            });

            $("#medBtn").click(function () {
                $("#lblName1").html("Horlicks");
                $("#lblPrice1").html(8500.00);
                $("#imgProduct1").attr("src", "horlicks.jpg");

                $("#lblName2").html("Bournvita");
                $("#lblPrice2").html(1499.00);
                $("#imgProduct2").attr("src", "bournvita.jpg");
            });

            $("#addToCartBtn1").click(function () {
                var name = $("#lblName1").html();
                var price = $("#lblPrice1").html();
                var img = $("#imgProduct1").attr("src");
                addToCart(name, price, img);
            });

            $("#addToCartBtn2").click(function () {
                var name = $("#lblName2").html();
                var price = $("#lblPrice2").html();
                var img = $("#imgProduct2").attr("src");
                addToCart(name, price, img);
            });

            function loadCartItems() {
                $("tbody").html("");
                for (var i = 0; i < cartItems.length; i += 3) {
                    var tr = $("<tr></tr>");
                    var tdName = $("<td></td>").html(cartItems[i]);
                    var tdPrice = $("<td></td>").html(cartItems[i + 1]);

                    var img = $("<img></img>").attr("src", cartItems[i + 2]).attr("height", "50").attr("width", "50");
                    var tdPhoto = $("<td></td>").append(img);

                    var deleteBtn = $("<button></button>").addClass("btn btn-link bi bi-trash")
                        .attr("data-index", i).click(function () {
                            var dataIndex = parseInt($(this).attr("data-index"));
                            removeCartItem(dataIndex);
                        });
                    var tdRemove = $("<td></td>").append(deleteBtn);

                    tr.append(tdName);
                    tr.append(tdPrice);
                    tr.append(tdPhoto);
                    tr.append(tdRemove);

                    $("tbody").append(tr);
                }
            }

            function removeCartItem(index) {
                cartItems.splice(index, 3);
                getCartItemsCount();
                loadCartItems();
            }

            $("#loadCartBtn").click(function () {
                loadCartItems();
            });
        });
    </script>
</body>

</html>